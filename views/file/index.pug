extends ../layout
block content

  .row.app-card.mb-2.align-items-center.justify-content-between.bg-white.p-2.m-0
    .col-auto
      h1.app-page-title.mb-0 File Drive
    .col-auto
      .page-utilities
        .row.g-2.justify-content-start.justify-content-md-end.align-items-center
          
          .col-auto
            form.table-search-form.row.gx-1.align-items-center
              .col-auto
                input#search-orders.form-control.search-orders(type='text', name='searchorders', placeholder='Search')
              .col-auto
                button.btn.app-btn-secondary(type='submit') Search
              .col-auto
                select.form-select.w-auto
                  option(selected='', value='option-1') All Files
                  option(value='image') Image
                  option(value='icon') Icon
                  option(value='video') Video
                  option(value='pdf') PDF
          
          .col-auto
            a.btn.app-btn-primary(href='#' onclick="$('input.uploadFile').click()")
              svg.bi.bi-upload.me-2(width='1em', height='1em', viewBox='0 0 16 16', fill='currentColor', xmlns='http://www.w3.org/2000/svg')
                path(fill-rule='evenodd', d='M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z')
                path(fill-rule='evenodd', d='M7.646 1.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8.5 2.707V11.5a.5.5 0 0 1-1 0V2.707L5.354 4.854a.5.5 0 1 1-.708-.708l3-3z')
              | Upload File
                
            form(action="/file-drive/upload", method="post" enctype="multipart/form-data")
              input.uploadFile(type='file' name='file' onchange="$(this).closest('form').submit()" hidden)


  
  div.row(style="margin: 0px 1px")
    -if(flashMessage.length>0)
      div.alert.alert-success(role='alert')
        each mgs in flashMessage
          li=mgs

  //- row
  div.row.g-4.mb-4
    
    
    each list in fileList

      .col-6.col-md-3.col-xl-3.col-xxl-2
        .app-card.app-card-doc.shadow-sm.h-100
          .app-card-thumb-holder.p-3
            span.icon-holder
              -var type = (list.name).split('.').pop() == 'jpg' || (list.name).split('.').pop().toLowerCase()
              -if(type == 'png' || type == 'jpg' || type == 'jpeg')
                i.fas.fa-file-image.image-file
              -else if((list.name).split('.').pop() == 'pdf')
                i.fas.fa-file-pdf.pdf-file
              -else
                i.fas.fa-file-video.video-file

            span.badge.bg-success NEW
            a.app-card-link-mask(target="_blank" href='https://propertyseeker.s3.me-central-1.amazonaws.com/'+list.name)
          .app-card-body.p-3.has-card-actions
            h4.app-doc-title.truncate.mb-0
              a(target="_blank" href='https://propertyseeker.s3.me-central-1.amazonaws.com/'+list.name)=list.name.slice(37)
            .app-doc-meta
              ul.list-unstyled.mb-0
                li
                  span.text-muted='Type: ' +(list.name).split('.').pop()
                li
                  span.text-muted='Size: ' +Math.floor((list.size/1024))+' KB'
                li
                  span.text-muted='' +fmt.date.dateTime(list.LastModified)
            .app-card-actions
              .dropdown
                .dropdown-toggle.no-toggle-arrow(data-bs-toggle='dropdown', aria-expanded='false')
                  svg.bi.bi-three-dots-vertical(width='1em', height='1em', viewBox='0 0 16 16', fill='currentColor', xmlns='http://www.w3.org/2000/svg')
                    path(fill-rule='evenodd', d='M9.5 13a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z')
                ul.dropdown-menu
                  li
                    a.dropdown-item(href='https://propertyseeker.s3.me-central-1.amazonaws.com/'+list.name)
                      svg.bi.bi-eye.me-2(width='1em', height='1em', viewBox='0 0 16 16', fill='currentColor', xmlns='http://www.w3.org/2000/svg')
                        path(fill-rule='evenodd', d='M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8zM1.173 8a13.134 13.134 0 0 0 1.66 2.043C4.12 11.332 5.88 12.5 8 12.5c2.12 0 3.879-1.168 5.168-2.457A13.134 13.134 0 0 0 14.828 8a13.133 13.133 0 0 0-1.66-2.043C11.879 4.668 10.119 3.5 8 3.5c-2.12 0-3.879 1.168-5.168 2.457A13.133 13.133 0 0 0 1.172 8z')
                        path(fill-rule='evenodd', d='M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5zM4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0z')
                      | View
                  li
                    a.dropdown-item(href='https://propertyseeker.s3.me-central-1.amazonaws.com/'+list.name)
                      svg.bi.bi-download.me-2(width='1em', height='1em', viewBox='0 0 16 16', fill='currentColor', xmlns='http://www.w3.org/2000/svg')
                        path(fill-rule='evenodd', d='M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z')
                        path(fill-rule='evenodd', d='M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3z')
                      | Download
                  li
                    hr.dropdown-divider
                  li
                    a.dropdown-item(href='/file-drive/delete/'+list.name   onclick="return confirm('Are you sure you want to delete this file?');")
                      svg.bi.bi-trash.me-2(width='1em', height='1em', viewBox='0 0 16 16', fill='currentColor', xmlns='http://www.w3.org/2000/svg')
                        path(d='M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z')
                        path(fill-rule='evenodd', d='M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4L4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z')
                      | Delete



block script
  script.
    
    //- $(document).ready(function(){
    //- });